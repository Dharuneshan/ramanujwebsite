<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Jobs</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
	<style>
		:root { --bg:#0b1220; --panel:#0f172a; --muted:#94a3b8; --accent:#4f46e5; --text:#e2e8f0; }
		* { box-sizing: border-box }
		body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: var(--bg); color: var(--text); margin:0; }
		.header { display:flex; gap:16px; align-items:center; justify-content:space-between; padding:16px 24px; background:#0d1528; position:sticky; top:0; z-index:10; border-bottom:1px solid #1f2937 }
		.brand { font-size:18px; font-weight:700; color:#93c5fd }
		.nav a { color: var(--muted); text-decoration:none; margin-right:12px; font-weight:600 }
		.container { max-width: 1100px; margin: 24px auto; padding: 0 16px }
		.card { background: var(--panel); border:1px solid #1f2937; border-radius:12px; padding:16px }
		.table { width:100%; border-collapse: collapse }
		.table th, .table td { border-bottom:1px solid #1f2937; padding:10px; text-align:left; vertical-align: top }
		.btn { background: var(--accent); color:#fff; padding:8px 12px; border-radius:8px; border:0; cursor:pointer; font-weight:700 }
		.input, .textarea { width:100%; padding:10px 12px; border-radius:10px; border:1px solid #334155; background:#0b1220; color:#e2e8f0 }
		.textarea { min-height: 90px }
		.grid { display:grid; gap:12px }
		.grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) }
	</style>
</head>
<body>
	<header class="header">
		<div class="brand">RAMANUJ Admin</div>
		<nav class="nav">
			<a href="/admin">Dashboard</a>
			<a href="/admin/jobs">Jobs</a>
			<a href="/admin/contacts">Contacts</a>
			<a href="/admin/applications">Applications</a>
		</nav>
		<form method="post" action="/auth/logout">
			<button class="btn" type="submit">Logout</button>
		</form>
	</header>
	<div class="container">
		<div class="grid grid-2">
			<div class="card">
				<h3 style="margin:0 0 8px">Add Job</h3>
				<form method="post" action="/admin/jobs">
					<label>Title</label>
					<input class="input" name="title" required />
					<label>Location</label>
					<input class="input" name="location" />
					<label>Type</label>
					<input class="input" name="type" />
					<label>Department</label>
					<input class="input" name="department" />
					<label>Description</label>
					<textarea class="textarea" name="description"></textarea>
					<label>Requirements (one per line)</label>
					<textarea class="textarea" name="requirements"></textarea>
					<button class="btn" type="submit">Create</button>
				</form>
			</div>
			<div class="card">
				<h3 style="margin:0 0 8px">Jobs</h3>
				<table class="table">
					<thead><tr><th>Title</th><th>Details</th><th>Actions</th></tr></thead>
					<tbody>
						<% jobs.forEach(function(job){ %>
							<tr>
								<td><strong><%= job.title %></strong><div style="color:#94a3b8;font-size:12px"><%= job.location || '' %> <%= job.type ? ' â€¢ '+job.type : '' %></div></td>
								<td style="max-width:480px">
									<div><%= job.description || '' %></div>
									<% if (job.requirements) { %>
										<ul style="margin:6px 0 0; padding-left: 16px; color:#94a3b8">
											<% job.requirements.split('\n').filter(Boolean).forEach(function(r){ %>
												<li><%= r %></li>
											<% }) %>
										</ul>
									<% } %>
								</td>
								<td>
									<form method="post" action="/admin/jobs/<%= job.id %>/delete">
										<button class="btn" type="submit">Delete</button>
									</form>
								</td>
							</tr>
						<% }) %>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>


